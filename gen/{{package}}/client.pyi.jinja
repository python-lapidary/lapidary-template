# {% include 'includes/header.txt' %}
{% set model = lapidary.client_model -%}
{% set path =  (package | as_module_path) / "client" -%}

__all__ = [
    'ApiClient',
    'Auth',
]

import typing

import lapidary.runtime
import lapidary.runtime.auth
import pydantic

import {{ package }}.auth
from {{ package }}.auth import Auth

{%- for imp in model.imports %}
import {{ imp }}
{%- endfor %}

class ApiClient(lapidary.runtime.ClientBase):
    def __init__(
        self,
        *,
        auth: {{ package }}.auth.Auth,
        base_url=
{%- if model.base_urls | length > 0 -%}
        '{{ model.base_urls[0] }}',
{%- else -%}
        None,
{%- endif %}
    ):
        ...

{% for func in model.body.methods | sort(attribute='name') %}
{%- include 'includes/client/method_operation.py.jinja' %}
{%- else %}
    pass
{%- endfor %}
